/* Overrides to improve topbar/pill visibility and empty-chat placeholder */
:root{
  --muted: #9ca3af;
}
.topbar{background:var(--panel);box-shadow:0 1px 0 rgba(0,0,0,0.04);z-index:2}
.pill{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-weight:600;font-size:0.9rem;border:1px solid rgba(0,0,0,0.06);min-width:76px;color:var(--text);background:rgba(255,255,255,0.02)}
.pill.online{background:rgba(34,197,94,0.12);color:rgb(16,185,129);border-color:rgba(34,197,94,0.18)}
.pill.offline{background:rgba(239,68,68,0.06);color:rgb(239,68,68);border-color:rgba(239,68,68,0.12)}
.pill.unknown{background:transparent;color:var(--muted);border-color:transparent}
.jarvis-dot{box-shadow:0 0 0 3px transparent}
.jarvis-dot.unknown{background:var(--muted);}

/* Ensure chat pane can place a friendly placeholder when empty */
.chat-pane{position:relative}
.chat-pane:empty::before{content:"Start en ny samtale";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:1.05rem;pointer-events:none}

/* Make inputs more visible until JS runs */
input,select,textarea{background:var(--panel);color:var(--text);border:1px solid var(--border);padding:8px 10px;border-radius:10px}

.hidden{display:none !important}

/* Topbar alignment fixes */
header.topbar { display: flex; align-items: center; padding: 12px 20px; white-space: nowrap; }
.brand { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
.pill { margin-left: 4px; vertical-align: middle; }
.build-id { margin-left: 2px; opacity:0.85; font-size: 0.85rem; }
#topBanner { margin-left: auto; margin-right: auto; }
.top-actions { display: flex; align-items: center; flex-shrink: 0; margin-left: auto; justify-content: flex-end; }
.search-wrap { display: flex; align-items: center; gap: 8px; }

/* Status row and tools placement (ensure tools sit under status and above composer) */
.status-row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 12px; border-top:1px solid rgba(255,255,255,0.02); border-bottom:1px solid rgba(255,255,255,0.02); background:transparent }
.status-left, .status-right { display:flex; align-items:center; gap:8px; }
.status-left { flex: 1 1 auto; }
.status-right { flex: 0 0 auto; }
.tools-summary { display:flex; gap:8px; align-items:center; }

/* Chat feed grows, composer stays pinned below */
.chat-feed { display:flex; flex-direction:column; gap:12px; min-height: 200px; }
.greeting-banner { margin: 10px 0; }
.composer { display:flex; gap:8px; align-items:flex-end; padding:10px; border-top:1px solid var(--border); background: transparent; }
.composer textarea { flex:1 1 auto; min-height:44px; max-height:220px; resize:vertical }

/* Right sidebar corrections */
.rightbar { padding:12px; display:flex; flex-direction:column; gap:12px; border-left:1px solid var(--border); min-height:0; position:sticky; top: calc(var(--bar-height) + 12px); background: transparent }
.right-panel { background: var(--panel); border:1px solid var(--border); padding:8px; border-radius:8px; color:var(--text); }
.right-panel-body { max-height:240px; overflow:auto; }

/* Increase rightbar width */
.shell { grid-template-columns: minmax(245px, 320px) minmax(480px, 1fr) minmax(280px, 360px); }

/* Footer layout fix */
.app-footer { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 20px; border-top:1px solid var(--border); background:var(--panel); color:var(--muted); position:relative }

/* Ensure sidebar and rightbar don't overlap main in narrow screens */
@media (max-width: 980px) {
  .shell { grid-template-columns: 72px 1fr; }
  .rightbar { display:none }
}
